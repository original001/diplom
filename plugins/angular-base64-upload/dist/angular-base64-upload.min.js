/*! angular-base64-upload - v0.0.6 - 2015-03-28
* https://github.com/adonespitogo/angular-base64-upload
* Copyright (c) Adones Pitogo <pitogo.adones@gmail.com> 2015; Licensed  */
angular.module("naif.base64",[]).directive("baseSixtyFourInput",["$window",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){function f(b){for(var c="",d=new Uint8Array(b),e=d.byteLength,f=0;e>f;f++)c+=String.fromCharCode(d[f]);return a.btoa(c)}function g(){return"data:image/"+this.filetype+";base64,"+this.base64}var h={};b.readerOnload=function(a){var c=f(a.target.result);h.base64=c,b.$apply(function(){e.$setViewValue(angular.copy(h))})};var i=new FileReader;i.onload=b.readerOnload,c.on("change",function(){var a=c[0].files[0];h.filetype=a.type,h.filename=a.name,h.filesize=a.size,h.dataURI=g,i.readAsArrayBuffer(a)})}}}]);